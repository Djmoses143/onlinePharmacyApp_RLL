@model IEnumerable<onlinePharmacyApp.ETClasses.Medicine>
@{ Layout = "~/Views/Shared/_Layout2.cshtml";}

<style>
    body {
        background-color: bisque;
    }
</style>

<center><h2>View Medicine</h2></center>

<form method="post">
    <fieldset>

        <div class="form-group row">
            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">Search Medicine</span>
                </div>
                <input type="text" class="form-control" placeholder="Enter Medicine Usage" id="MediType" name="MediType" aria-label="Medicine" aria-describedby="basic-addon1" required>
                <div class="input-group-append">
                    <button class="btn btn-success ml-1" type="submit" id="button-addon2">Search</button>
                </div>
                <div class="input-group-append">
                    <a class="btn btn-primary ml-1" href="" type="button" id="button-addon2">View All Medicine</a>
                </div>
            </div>
        </div>
    </fieldset>
</form>
<hr />
<div class="form-horizontal" >
    <div class="container" >
        <div class="card appointment-form" style="background-color: cadetblue"/>
            <div class="card-body">
                <table class="table">
                    <tr style="background-color:darkgray">
                        <th>
                            Medicine Name
                        </th>
                        <th>
                            Category
                        </th>
                        <th>
                            Price
                        </th>
                        <th>
                            Stock
                        </th>
                        <th></th>
                    </tr>

                    @foreach (var item in Model)
                    {
                        if (item.stock <= 0)
                        {
                            <tr style="background-color:lightgray">
                                <td>
                                    @Html.DisplayFor(modelItem => item.MName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.MType)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Price)
                                </td>
                                <td>
                                    No Stock
                                </td>

                                <td>
                                    <button class="btn btn-toolbar" type="submit" name="id">Unavailable</button>
                                </td>
                            </tr>
                        }
                        else
                        {
                            <tr style="background-color:lightgray">
                                <td>
                                    @Html.DisplayFor(modelItem => item.MName)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.MType)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.Price)
                                </td>
                                <td>
                                    @Html.DisplayFor(modelItem => item.stock)
                                </td>

                                <td>
                                    @using (Html.BeginForm("AddOrder", "Customer", FormMethod.Post))
                                    {
                                        <button class="btn btn-danger" type="submit" name="id" value=@item.MedicineId>Add To Cart</button>
                                    }

                                </td>
                            </tr>
                        }
                    }

                </table>
            </div>
        </div>
    </div>
</div>

